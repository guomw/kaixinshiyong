<ion-view view-title="用户注册">

  <ion-content class="scroll-content bar-calm" style="background-color:#F8F8F8">
    <form name="myform" novalidate="false">
      <!-- 通过手机号码注册start -->
      <div class="weui-cells weui-cells_form" style="display:none;">
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#66ccee" class="icon ion-iphone dark placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" ng-pattern="/^1[3|4|5|7|8][0-9]\d{4,8}$/" ng-model="user_phone" name="user_phone" placeholder="您的手机号"
              ng-maxlength="11" ng-minlength="11" required>
          </div>
        </div>

        <div class="weui-cell weui-cell_vcode" style="height: 54px;">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#f7ba5b" class="icon ion-unlocked placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="number" ng-model="user_sms" name="user_sms" placeholder="您收到的验证码" ng-maxlength="6" ng-minlength="6"
              required>
          </div>
          <div class="weui-cell__ft">
            <button class="weui-vcode-btn" name="user_getsms" ng-disabled="myform.user_phone.$invalid || isDisabled" ng-click="getsms(user_phone)"
              style="border-left: none;font-size: 14px;color: #00a7fd;">{{text}}</button>
          </div>
        </div>

        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#8e8e93" class="icon  ion-locked placeholder-icon " style="font-size:15px;"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" minlength="6" maxlength="20" name="password" type="password" placeholder="请输入密码" ng-model="password"
              required>
          </div>
        </div>
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#8e8e93" class="icon  ion-locked placeholder-icon " style="font-size:15px;"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" repeat="password" minlength="6" maxlength="20" name="repeat_password" type="password" placeholder="请再次输入密码"
              ng-model="repeat_password" required>
          </div>
        </div>
      </div>
      <!-- 通过手机号码注册end -->

      <!-- 通过邮箱注册start -->
      <div class="weui-cells weui-cells_form" ng-show="!nextEmail">
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#aaaaea" class="icon ion-android-mail placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" ng-pattern="/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/" ng-model="user_email"
              name="user_email" placeholder="请输入邮箱" required>
          </div>
        </div>
        <div class="weui-cell weui-cell_vcode" style="height:54px">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#f7ba5b" class="icon ion-unlocked placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" ng-model="verifyCode" name="verifyCode" placeholder="请输入图形验证码" required>
          </div>
          <div class="weui-cell__ft">
            <img class="weui-vcode-img" ng-src="{{imgText}}" ng-click="getImgText()">
          </div>
        </div>
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#8e8e93" class="icon  ion-locked placeholder-icon " style="font-size:15px;"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" minlength="6" maxlength="20" name="password" type="password" placeholder="请输入密码" ng-model="password"
              required>
          </div>
        </div>
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#8e8e93" class="icon  ion-locked placeholder-icon " style="font-size:15px;"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" repeat="password" minlength="6" maxlength="20" name="repeat_password" type="password" placeholder="请再次输入密码"
              ng-model="repeat_password" required>
          </div>
        </div>
      </div>

      <!-- 邮箱注册账号激活 start -->
      <div class="weui-cells weui-cells_form" ng-show="nextEmail">
        <div class="weui-cell">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#aaaaea" class="icon ion-android-mail placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" ng-model="user_email" name="user_email" required readonly="readonly">
          </div>
        </div>
        <div class="weui-cell weui-cell_vcode" style="height: 54px;">
          <div class="weui-cell__hd">
            <i style="font-size:18px;color:#aaaaea" class="icon ion-unlocked placeholder-icon"></i>
          </div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="number" ng-model="user_sms" name="user_sms" placeholder="请输入您邮箱验证码" ng-maxlength="6" ng-minlength="6"
              required>
          </div>
          <div class="weui-cell__ft">
            <button class="weui-vcode-btn" name="user_getsms" ng-click="get_emailCode(user_email)" style="border-left: none;font-size: 14px;color: #00a7fd;">获取验证码</button>
          </div>
        </div>
      </div>
      <!-- 邮箱注册账号激活 end -->

      <!-- 通过邮箱注册end -->
      <div class="padding-top" style="padding: 30px 15px 10px; box-sizing: border-box;">
        <a href="javascript:;" class="weui-btn" ng-click="email_Register(user_email,verifyCode,password,repeat_password)" ng-show='!nextEmail'>确认注册</a>
        <a href="javascript:;" class="weui-btn" ng-click="email_activate(user_email,user_sms)" ng-show='nextEmail'>确认激活</a>
      </div>
      <div style="padding: 0px 15px 10px; box-sizing: border-box;">
        <a href="#/tab/user/login" class="weui-btn" style="border:1px solid #ef473a;color:#ef473a;background-color: #fff;">已有帐号,请直接登录</a>
      </div>
    </form>

  </ion-content>

</ion-view>